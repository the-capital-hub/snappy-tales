"use client";

import React, { useEffect, useRef } from "react";
import { gsap } from "gsap";

const Scribble = () => {
  const pathRef = useRef(null);

  useEffect(() => {
    const path = pathRef.current as SVGPathElement | null;
    if (!path) return;
    const length = path.getTotalLength();

    // Initial hidden stroke setup
    gsap.set(path, {
      strokeDasharray: length,
      strokeDashoffset: length,
      fill: "none",
      stroke: "currentColor",
      strokeWidth: 3,
    });

    // Animate path drawing once on mount
    gsap.to(path, {
      strokeDashoffset: 0,
      duration: 2.5,
      ease: "power2.out",
      fill: "black",
      delay: 0.3, // small delay for smoother entrance
    });
  }, []);

  return (
    <div className="w-[180px] md:w-[219px] text-black dark:text-white">
      <svg
        viewBox="0 0 219 219"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        className="w-full h-auto"
      >
        <g clipPath="url(#clip0_205_20550)">
          <path
            ref={pathRef}
            d="M143.243 162.972C147.108 165.204 150.377 166.803 153.269 168.889C154.805 170 156.787 171.944 156.722 173.443C156.653 175.004 154.643 177.044 152.992 177.851C148.168 180.219 143.106 182.225 138.054 184.045C136.962 184.439 134.972 184.283 134.025 183.096C132.891 182.121 135.088 179.869 136.181 179.251C140.368 176.932 144.805 175.013 149.522 172.775C146.809 171.209 144.525 169.954 142.272 168.589C136.258 164.925 135.813 160.763 141.244 156.345C148.921 150.088 156.774 144.027 164.557 137.863C165.496 137.124 166.386 136.358 167.29 135.568C168.832 134.506 168.431 134.146 166.951 134.604C164.114 135.526 161.267 136.411 158.43 137.333C153.389 138.968 148.358 140.641 143.308 142.238C142.168 142.604 140.882 142.725 139.773 142.982C137.822 143.423 136.095 142.202 135.257 141.047C134.547 140.06 134.037 138.614 135.443 136.513C138.436 132.16 141.752 128.025 145.077 123.927C152.562 114.678 160.105 105.494 167.354 95.8205C163.612 97.7567 159.821 99.6651 156.137 101.667C147.986 106.083 139.938 110.654 131.733 114.943C128.924 116.426 125.706 118.729 122.604 115.786C119.691 113.015 121.552 109.737 122.668 106.861C126.215 97.8343 129.968 88.8948 133.625 79.8998C133.99 78.9904 134.221 78.0356 134.831 76.1474C129.498 79.3417 124.739 81.875 120.359 84.9154C111.134 91.3035 102.065 97.9743 92.9426 104.518C86.8687 108.884 83.4847 107.539 82.5074 100.029C81.2702 90.6411 80.3599 81.1857 79.2742 71.7571C79.0689 70.0062 78.6742 68.306 78.181 65.5568C77.0871 67.2297 76.3887 68.1067 75.9202 69.0845C70.5035 80.2961 65.1107 91.5215 59.7041 102.771C58.2847 105.728 57.3333 109.372 53.5351 109.963C49.5613 110.582 47.9196 107.105 45.9268 104.515C43.8656 101.82 41.9079 99.0576 39.1587 96.4462C39.1661 99.427 39.1873 102.384 39.1947 105.365C39.1976 107.799 39.3861 110.244 39.1554 112.64C39.0794 113.492 37.9486 114.951 37.4057 114.894C36.4296 114.811 35.4499 114.789 34.6941 113.104C34.3638 112.402 34.2237 111.425 34.2138 110.555C34.0375 104.596 33.6996 98.6394 33.9324 92.6926C34.0123 90.9464 35.3401 88.4803 36.7596 87.7956C37.9483 87.2336 40.649 88.3767 41.8056 89.5886C44.7763 92.648 47.2703 96.2003 49.9509 99.5404C50.8296 100.624 51.6807 101.755 52.8806 103.28C54.2574 100.618 55.3709 98.4127 56.5222 96.1968C62.47 84.6198 68.4179 73.0427 74.3898 61.4795C74.8093 60.6975 75.3008 59.9571 75.8504 59.2822C77.7618 57.025 80.7223 56.9419 82.1962 59.4893C83.5474 61.8057 84.6149 64.5024 85.0019 67.1584C86.4126 76.9666 87.4963 86.8422 88.6936 96.6873C88.8161 97.7503 88.9903 98.779 89.2004 100.245C95.8395 95.564 102.014 90.9672 108.414 86.7566C116.055 81.7263 123.843 76.9408 131.655 72.1691C134.027 70.7219 136.633 68.4816 139.532 70.6674C142.43 72.8531 141.597 76.1809 140.612 78.9408C137.507 87.6459 134.071 96.2568 130.784 104.889C130.241 106.272 129.685 107.679 129.642 109.639C135.2 106.83 140.758 104.022 146.306 101.176C154.466 97.0215 162.592 92.815 170.762 88.6982C172.709 87.7098 174.922 86.427 176.859 88.5053C178.829 90.6354 177.808 92.9584 176.39 94.8603C170.597 102.622 164.766 110.393 158.77 118.006C153.919 124.135 148.808 130.05 144.064 136.881C148.085 135.682 152.041 134.317 156.113 133.307C161.245 132.014 166.431 130.847 171.647 130.018C173.24 129.753 176.094 130.409 176.472 131.363C177.009 132.761 176.378 135.406 175.256 136.518C171.112 140.591 166.626 144.37 162.109 148.035C156.239 152.936 150.188 157.54 143.243 162.972Z"
          />
        </g>
        <defs>
          <clipPath id="clip0_205_20550">
            <rect
              width="159.658"
              height="159.658"
              fill="white"
              transform="translate(79.8301) rotate(30)"
            />
          </clipPath>
        </defs>
      </svg>
    </div>
  );
};

export default Scribble;

export const DarkScribble = () => {

   const pathRef = useRef(null);

  useEffect(() => {
    const path = pathRef.current as SVGPathElement | null;
    if (!path) return;
    const length = path.getTotalLength();

    // Initial hidden stroke setup
    gsap.set(path, {
      strokeDasharray: length,
      strokeDashoffset: length,
      fill: "none",
      stroke: "White",
      strokeWidth: 3,
    });

    // Animate path drawing once on mount
    gsap.to(path, {
      strokeDashoffset: 0,
      duration: 2.5,
      ease: "power2.out",
      fill: "white",
      delay: 0.3, // small delay for smoother entrance
    });
  }, []);
  return (
    <div>
      <svg
        width="219"
        height="219"
        viewBox="0 0 219 219"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
      >
        <g clip-path="url(#clip0_552_25962)">
          <path
           ref={pathRef}
            d="M143.241 162.972C147.106 165.204 150.375 166.803 153.268 168.889C154.803 170 156.785 171.944 156.72 173.443C156.651 175.004 154.641 177.044 152.991 177.851C148.167 180.219 143.104 182.225 138.052 184.045C136.96 184.439 134.97 184.283 134.023 183.096C132.89 182.121 135.086 179.869 136.179 179.251C140.367 176.932 144.803 175.013 149.52 172.775C146.808 171.209 144.523 169.954 142.271 168.589C136.257 164.925 135.811 160.763 141.242 156.345C148.92 150.088 156.772 144.027 164.556 137.863C165.494 137.124 166.384 136.358 167.289 135.568C168.83 134.506 168.43 134.146 166.949 134.604C164.112 135.526 161.265 136.411 158.428 137.333C153.387 138.968 148.357 140.641 143.306 142.238C142.166 142.604 140.88 142.725 139.772 142.982C137.82 143.423 136.093 142.202 135.256 141.047C134.545 140.06 134.036 138.614 135.441 136.513C138.434 132.16 141.75 128.025 145.076 123.927C152.56 114.678 160.103 105.494 167.352 95.8205C163.61 97.7567 159.82 99.6651 156.135 101.667C147.985 106.083 139.936 110.654 131.731 114.943C128.922 116.426 125.704 118.729 122.603 115.786C119.689 113.015 121.55 109.737 122.666 106.861C126.214 97.8343 129.966 88.8948 133.623 79.8998C133.988 78.9904 134.22 78.0356 134.83 76.1474C129.497 79.3417 124.737 81.875 120.358 84.9154C111.132 91.3035 102.064 97.9743 92.9409 104.518C86.867 108.884 83.483 107.539 82.5056 100.029C81.2685 90.6411 80.3582 81.1857 79.2725 71.7571C79.0672 70.0062 78.6725 68.306 78.1793 65.5568C77.0854 67.2297 76.387 68.1067 75.9185 69.0845C70.5018 80.2961 65.109 91.5215 59.7024 102.771C58.283 105.728 57.3316 109.372 53.5334 109.963C49.5596 110.582 47.9179 107.105 45.9251 104.515C43.8639 101.82 41.9062 99.0576 39.157 96.4462C39.1644 99.427 39.1856 102.384 39.1929 105.365C39.1959 107.799 39.3844 110.244 39.1537 112.64C39.0777 113.492 37.9469 114.951 37.404 114.894C36.4279 114.811 35.4482 114.789 34.6924 113.104C34.362 112.402 34.222 111.425 34.2121 110.555C34.0358 104.596 33.6979 98.6394 33.9306 92.6926C34.0106 90.9464 35.3384 88.4803 36.7579 87.7956C37.9466 87.2336 40.6473 88.3767 41.8039 89.5886C44.7746 92.648 47.2686 96.2004 49.9491 99.5404C50.8279 100.624 51.679 101.755 52.8789 103.28C54.2557 100.618 55.3692 98.4127 56.5205 96.1968C62.4683 84.6198 68.4162 73.0427 74.3881 61.4795C74.8076 60.6975 75.2991 59.9571 75.8487 59.2822C77.76 57.025 80.7206 56.9419 82.1945 59.4893C83.5457 61.8057 84.6132 64.5024 85.0002 67.1584C86.4109 76.9666 87.4946 86.8422 88.6919 96.6873C88.8144 97.7503 88.9886 98.779 89.1986 100.245C95.8378 95.564 102.012 90.9672 108.412 86.7566C116.053 81.7263 123.841 76.9408 131.653 72.1691C134.025 70.7219 136.631 68.4816 139.53 70.6674C142.429 72.8531 141.596 76.1809 140.61 78.9408C137.505 87.6459 134.07 96.2568 130.782 104.889C130.24 106.272 129.683 107.679 129.64 109.639C135.198 106.83 140.757 104.022 146.305 101.176C154.464 97.0215 162.59 92.815 170.76 88.6982C172.707 87.7098 174.92 86.427 176.857 88.5053C178.828 90.6354 177.807 92.9584 176.388 94.8603C170.595 102.622 164.764 110.393 158.768 118.006C153.917 124.135 148.806 130.05 144.062 136.881C148.083 135.682 152.04 134.317 156.111 133.307C161.243 132.014 166.43 130.847 171.645 130.018C173.238 129.753 176.093 130.409 176.47 131.363C177.007 132.761 176.376 135.406 175.254 136.518C171.11 140.591 166.624 144.37 162.107 148.035C156.237 152.936 150.186 157.54 143.241 162.972Z"
            fill="white"
          />
        </g>
        <defs>
          <clipPath id="clip0_552_25962">
            <rect
              width="159.658"
              height="159.658"
              fill="white"
              transform="translate(79.8291) rotate(30)"
            />
          </clipPath>
        </defs>
      </svg>
    </div>
  );
};
